[{"/Users/fany/Desktop/weather/src/reportWebVitals.js":"1","/Users/fany/Desktop/weather/src/App.js":"2","/Users/fany/Desktop/weather/src/index.js":"3","/Users/fany/Desktop/weather/src/components/Weather.jsx":"4","/Users/fany/Desktop/weather/src/redux/reducers/index.js":"5","/Users/fany/Desktop/weather/src/components/LocationDialog.jsx":"6","/Users/fany/Desktop/weather/src/redux/action.js":"7","/Users/fany/Desktop/weather/src/components/WeatherIcon.jsx":"8","/Users/fany/Desktop/weather/src/redux/apis.js":"9"},{"size":362,"mtime":1611319384028,"results":"10","hashOfConfig":"11"},{"size":413,"mtime":1612347219650,"results":"12","hashOfConfig":"11"},{"size":457,"mtime":1612349160473,"results":"13","hashOfConfig":"11"},{"size":4987,"mtime":1612512628089,"results":"14","hashOfConfig":"11"},{"size":690,"mtime":1612433938038,"results":"15","hashOfConfig":"11"},{"size":4653,"mtime":1612512053711,"results":"16","hashOfConfig":"11"},{"size":472,"mtime":1612433815792,"results":"17","hashOfConfig":"11"},{"size":2694,"mtime":1612512389929,"results":"18","hashOfConfig":"11"},{"size":587,"mtime":1612426544187,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"120k1rp",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/Users/fany/Desktop/weather/src/reportWebVitals.js",[],"/Users/fany/Desktop/weather/src/App.js",[],["41","42"],"/Users/fany/Desktop/weather/src/index.js",[],"/Users/fany/Desktop/weather/src/components/Weather.jsx",["43"],"import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport apis from \"../redux/apis\";\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport WeatherIcon from './WeatherIcon';\nimport LocationDialog from './LocationDialog';\nimport FixedCenter from './FixedCenter';\nimport { setDialogOpen, setWeather } from '../redux/action';\n\nconst time = new Date().getHours();\nconst styles = () => ({\n\tpaper: {\n\t\tbackgroundColor: '#ededed',\n\t\theight: '100%',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\tcontainer: {\n\t\tposition: 'relative',\n\t\tminWidth: '360px',\n\t\tboxShadow: '0 1px 3px 0 #999999',\n\t\tboxSizing: 'border-box',\n\t\tpadding: '20px 15px',\n\t\tborderRadius: '5px',\n\t\tbackground: (time > 17 || time < 5) ? 'linear-gradient(#044899, #050A30)' : 'linear-gradient(#82DBF9, #2072C8)'\n\t},\n\tweatherSvg: {\n\t\twidth: '150px',\n\t\theight: 'auto',\n\t\tmargin: '40px 27% 50px 27%'\n\t},\n\tweatherInformation: {\n\t\tpadding: '10px 15px 10px 15px',\n\t\tmargin: '10px 0 0 0',\n\t\tborderRadius: '10px',\n\t\tcolor: (time > 17 || time < 5) ? '#050A30' : '#2072C8'\n\t},\n\tsvg: {\n\t\twidth: '25px',\n\t\theight: 'auto'\n\t}\n});\n\nconst useStyles = makeStyles(styles);\n\nconst Weather = () => {\n\tconst dispatch = useDispatch();\n\tconst location = useSelector(state => state.weatherLocation.location)\n\tconst weather = useSelector(state => state.weatherLocation.weather)\n\tconst classes = useStyles();\n\tconst date = new Date().getDay();\n\tconst dayList = ['日', '一', '二', '三', '四', '五', '六'];\n\tconst AuthorizationKey = 'CWB-330FC854-CB5C-4364-AE2C-600F34DCF8AE'\n\n\tconst fetchData = useCallback(() => {\n\t\tconst fetchingData = async () => {\n\t\t\tconst [realTimeData, weather36hData] = await Promise.all([\n\t\t\t\tfetachGetRealtimeWeather(),\n\t\t\t\tfetchGetWeather36h(),\n\t\t\t]);\n\n\t\t\tdispatch(setWeather({\n\t\t\t\t...realTimeData,\n\t\t\t\t...weather36hData\n\t\t\t}))\n\t\t};\n\n\t\tfetchingData();\n\t}, []);\n\n\tReact.useEffect(() => {\n\t\tfetchData();\n\t}, [fetchData]);\n\n\tconst fetachGetRealtimeWeather = () => {\n\t\treturn apis.fetachGetRealtimeWeather({ AuthorizationKey: AuthorizationKey, locationName: location.place })\n\t\t\t.then(res => {\n\t\t\t\tconst data = res.data.records.location[0];\n\t\t\t\tconst weatherElements = data.weatherElement.reduce(\n\t\t\t\t\t(neededElements, item) => {\n\t\t\t\t\t\tif (['WDSD', 'TEMP', 'HUMD'].includes(item.elementName)) {\n\t\t\t\t\t\t\tneededElements[item.elementName] = item.elementValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn neededElements;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t\treturn {\n\t\t\t\t\tlocation: data.locationName,\n\t\t\t\t\ttime: data.time.obsTime,\n\t\t\t\t\twind: weatherElements.WDSD,\n\t\t\t\t\ttemp: weatherElements.TEMP,\n\t\t\t\t\thumid: weatherElements.HUMD,\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tconst fetchGetWeather36h = () => {\n\t\treturn apis.fetchGetWeather36h({ AuthorizationKey: AuthorizationKey, locationName: location.city })\n\t\t\t.then((res) => {\n\t\t\t\tconst locationData = res.data.records.location[0];\n\t\t\t\tconst weatherElements = locationData.weatherElement.map(el => el.time[0].parameter);\n\t\t\t\treturn {\n\t\t\t\t\tdescription: weatherElements[0].parameterName,\n\t\t\t\t\tweatherCode: weatherElements[0].parameterValue,\n\t\t\t\t\trainPossibility: weatherElements[1].parameterName,\n\t\t\t\t\tcomfortability: weatherElements[3].parameterName,\n\t\t\t\t\tmaxTemp: weatherElements[4].parameterName,\n\t\t\t\t\tminTemp: weatherElements[2].parameterName,\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tif (Object.keys(weather).length === 0) {\n\t\treturn (\n\t\t\t<FixedCenter>\n\t\t\t\t<CircularProgress />\n\t\t\t</FixedCenter>\n\t\t)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<LocationDialog />\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Box className={classes.container} >\n\t\t\t\t\t<Button fullWidth onClick={() => dispatch(setDialogOpen(true))}>\n\t\t\t\t\t\t<Typography align='center' variant='h6' style={{ color: (time > 17 || time < 5) ? '#ffffff' : '#050A30' }}>\n\t\t\t\t\t\t\t{location.city}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<WeatherIcon weatherCode={weather.weatherCode} />\n\t\t\t\t\t<Paper className={classes.weatherInformation}>\n\t\t\t\t\t\t<Box pb={3}>\n\t\t\t\t\t\t\t<Typography variant='body1'>星期{dayList[date]}</Typography>\n\t\t\t\t\t\t\t<Typography variant='body1'>{`${weather.description}、${weather.comfortability}`}</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box pb={3}>\n\t\t\t\t\t\t\t<Typography align='center' variant='h2'>{Math.round(weather.temp)}℃</Typography>\n\t\t\t\t\t\t\t<Typography align='center' variant='body2'>{weather.minTemp}℃~{weather.maxTemp}℃</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Typography align='right' variant='body2'>風速： {weather.wind} m/h</Typography>\n\t\t\t\t\t\t<Typography align='right' variant='body2'>濕度：{Math.round(weather.humid * 100)} %</Typography>\n\t\t\t\t\t\t<Typography align='right' variant='body2'>降雨機率：{weather.rainPossibility} %</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t</>\n\t)\n};\n\nexport default Weather","/Users/fany/Desktop/weather/src/redux/reducers/index.js",[],"/Users/fany/Desktop/weather/src/components/LocationDialog.jsx",[],"/Users/fany/Desktop/weather/src/redux/action.js",[],"/Users/fany/Desktop/weather/src/components/WeatherIcon.jsx",[],"/Users/fany/Desktop/weather/src/redux/apis.js",[],["44","45"],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":76,"column":5,"nodeType":"52","endLine":76,"endColumn":7,"suggestions":"53"},{"ruleId":"46","replacedBy":"54"},{"ruleId":"48","replacedBy":"55"},"no-native-reassign",["56"],"no-negated-in-lhs",["57"],"react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'dispatch', 'fetachGetRealtimeWeather', and 'fetchGetWeather36h'. Either include them or remove the dependency array.","ArrayExpression",["58"],["56"],["57"],"no-global-assign","no-unsafe-negation",{"desc":"59","fix":"60"},"Update the dependencies array to be: [dispatch, fetachGetRealtimeWeather, fetchGetWeather36h]",{"range":"61","text":"62"},[2149,2151],"[dispatch, fetachGetRealtimeWeather, fetchGetWeather36h]"]